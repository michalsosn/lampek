<div class="panel panel-default">
  <div class="panel-heading">Results</div>
  <uib-tabset justified="true" active="$ctrl.resultName">
    <uib-tab index="result.role" ng-repeat="result in $ctrl.results.resultList track by result.role"
             select="$ctrl.onResultSelected({role: result.role, event: $event})"
             heading="{{$first && $last ? undefined : (result.role | capitalize)}}" >
      <div ng-switch="result.type" class="result-container">
        <figure ng-switch-when="IMAGE">
          <img ng-src="{{result._links.image.href}}" class="img-responsive">
        </figure>
        <figure ng-switch-when="HISTOGRAM">
          <plotly data="result.data" layout="result.layout" options="result.options">
          </plotly>
        </figure>
        <div class="table-responsive">
          <table ng-switch-when="$NUMERICAL" class="table">
            <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Value</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="value in result.values">
              <td>{{$index + 1}}</td>
              <td>{{value.role}}</td>
              <td>{{value.value}}</td>
            </tr>
            </tbody>
          </table>
        </div>
        <div ng-switch-default class="text-center">
          <h2>Can't display the result</h2>
          The result type {{result.type | capitalize}} is not supported.
        </div>
      </div>
    </uib-tab>
  </uib-tabset>
  <div ng-if="$ctrl.results.resultList.length == 0" class="panel-body text-center">
    <h2>Nothing to display</h2>
    <p ng-if="!$ctrl.results.done && !$ctrl.results.failed">
      Results of this operation will be available shortly.
    </p>
    <p ng-if="$ctrl.results.failed">
      Execution has failed. Change the operation or retry it with different parameters.
    </p>
  </div>

</div>
